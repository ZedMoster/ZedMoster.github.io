<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script>if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode)) window.location.href="https://support.dmeng.net/upgrade-your-browser.html?referrer="+encodeURIComponent(window.location.href); </script>
    
    
        <link rel="shortcut icon" href="/images/favicon.ico">
    
     
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.2.30/dist/vuetify.min.css" rel="stylesheet">
    
<link rel="stylesheet" href="/css/main.css">

    
    







    
    
          

    
    
    
        
    
        
    
        
    
        
    
        
    
        
    

    
    
    <title>
        
            十分钟入门 Pandas | 龙|Engineer|BIMer
        
    </title>
    
    
<meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="龙|Engineer|BIMer" type="application/atom+xml">
</head>
<body>
    <div id="app">
        <v-app>
            <v-content id="page">
                <v-container fluid>
                    <v-row>
                        <v-col cols="2" class="d-none d-md-block">
                            <div id="sidebar" class="float-right">
    <a href="/" rel="home">
        <v-avatar size=96>
            <img id="logo" src="/images/avatar.webp">     
        </v-avatar> 
    </a>
    <v-divider></v-divider>
    <div class="mini-menu">
        <v-btn icon href="/">
            <v-icon>home</v-icon>
        </v-btn>
        <v-btn icon href="/categories/">
            <v-icon>folder</v-icon>
        </v-btn>
        <v-btn icon href="/tags/">
            <v-icon>bookmark</v-icon>
        </v-btn>
        <v-btn icon @click="SetNightMode">
            <v-icon>{{ nightMode }}</v-icon>
        </v-btn>
    </div>
    <v-list id="main-menu" class="font-weight-bold" flat>
        
            
            <v-list-item href="/archives/" link>
            <v-list-item-icon><v-icon>archive</v-icon></v-list-item-icon>
            <v-list-item-content>
                归档
            </v-list-item-content>
            </v-list-item>
        
            
            <v-list-item href="/about/" link>
            <v-list-item-icon><v-icon>account_circle</v-icon></v-list-item-icon>
            <v-list-item-content>
                关于
            </v-list-item-content>
            </v-list-item>
        
            
            <v-list-item href="https://space.bilibili.com/81888284" link>
            <v-list-item-icon><v-icon>rss_feed</v-icon></v-list-item-icon>
            <v-list-item-content>
                Bilibili
            </v-list-item-content>
            </v-list-item>
        
    </v-list>
    <v-divider></v-divider>
    
        <div class="post-toc">
            <a href="/2021/02/23/0.learn_pandas/Pandas%20%E5%85%A5%E9%97%A8%E6%89%8B%E5%86%8C/" class="toc-header">文章目录</a>
            <div class="toc-content">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5-Pandas"><span class="toc-number">1.</span> <span class="toc-text">导入 Pandas</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.</span> <span class="toc-text">生成对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-%E4%B8%80%E7%BB%B4%E6%95%B0%E6%8D%AE-%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.1.</span> <span class="toc-text">创建 一维数据 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-%E4%BA%8C%E7%BB%B4%E6%95%B0%E6%8D%AE-%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.</span> <span class="toc-text">创建 二维数据 对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE"><span class="toc-number">3.</span> <span class="toc-text">查看数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B-DataFrame-%E5%A4%B4%E9%83%A8%E4%B8%8E%E5%B0%BE%E9%83%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">3.1.</span> <span class="toc-text">查看 DataFrame 头部与尾部数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B-%E7%B4%A2%E5%BC%95%E4%B8%8E%E5%88%97%E5%90%8D"><span class="toc-number">3.2.</span> <span class="toc-text">查看 索引与列名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E7%9A%84-%E7%BB%9F%E8%AE%A1%E6%91%98%E8%A6%81"><span class="toc-number">3.3.</span> <span class="toc-text">快速查看数据的 统计摘要</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AC%E7%BD%AE%E6%95%B0%E6%8D%AE"><span class="toc-number">3.4.</span> <span class="toc-text">转置数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E8%BD%B4%E6%8E%92%E5%BA%8F"><span class="toc-number">3.5.</span> <span class="toc-text">按轴排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E5%80%BC%E6%8E%92%E5%BA%8F"><span class="toc-number">3.6.</span> <span class="toc-text">按值排序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE"><span class="toc-number">4.</span> <span class="toc-text">选择数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">4.1.</span> <span class="toc-text">获取数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E6%A0%87%E7%AD%BE%E9%80%89%E6%8B%A9"><span class="toc-number">4.2.</span> <span class="toc-text">按标签选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E7%BD%AE%E9%80%89%E6%8B%A9"><span class="toc-number">4.3.</span> <span class="toc-text">按位置选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%B4%A2%E5%BC%95"><span class="toc-number">4.4.</span> <span class="toc-text">布尔索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC"><span class="toc-number">4.5.</span> <span class="toc-text">赋值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="toc-number">5.</span> <span class="toc-text">缺失值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E5%90%AB%E7%BC%BA%E5%A4%B1%E5%80%BC%E7%9A%84%E8%A1%8C"><span class="toc-number">5.1.</span> <span class="toc-text">删除所有含缺失值的行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A1%AB%E5%85%85%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="toc-number">5.2.</span> <span class="toc-text">填充缺失值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8F%96-NaN-%E5%80%BC%E7%9A%84%E5%B8%83%E5%B0%94%E6%8E%A9%E7%A0%81"><span class="toc-number">5.3.</span> <span class="toc-text">提取  NaN 值的布尔掩码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97"><span class="toc-number">6.</span> <span class="toc-text">运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1"><span class="toc-number">6.1.</span> <span class="toc-text">统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Apply-%E5%87%BD%E6%95%B0"><span class="toc-number">6.2.</span> <span class="toc-text">Apply 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95"><span class="toc-number">6.3.</span> <span class="toc-text">字符串方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%EF%BC%88Merge%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">合并（Merge）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E5%90%88%EF%BC%88Concat%EF%BC%89"><span class="toc-number">7.1.</span> <span class="toc-text">结合（Concat）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%EF%BC%88join%EF%BC%89"><span class="toc-number">7.2.</span> <span class="toc-text">连接（join）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%BD%E5%8A%A0%EF%BC%88Append%EF%BC%89"><span class="toc-number">7.3.</span> <span class="toc-text">追加（Append）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84%EF%BC%88Grouping%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">分组（Grouping）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%A1%91%EF%BC%88Reshaping%EF%BC%89"><span class="toc-number">9.</span> <span class="toc-text">重塑（Reshaping）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E5%8F%A0%EF%BC%88Stack%EF%BC%89"><span class="toc-number">9.1.</span> <span class="toc-text">堆叠（Stack）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%80%8F%E8%A7%86%E8%A1%A8%EF%BC%88Pivot-Tables%EF%BC%89"><span class="toc-number">10.</span> <span class="toc-text">数据透视表（Pivot Tables）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%88%AB%E5%9E%8B%EF%BC%88Categoricals%EF%BC%89"><span class="toc-number">11.</span> <span class="toc-text">类别型（Categoricals）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">12.</span> <span class="toc-text">可视化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA"><span class="toc-number">13.</span> <span class="toc-text">数据输入 &#x2F; 输出</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CSV"><span class="toc-number">13.1.</span> <span class="toc-text">CSV</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Excel"><span class="toc-number">13.2.</span> <span class="toc-text">Excel</span></a></li></ol></li></ol>
            </div>
        </div>
    

    <div id="footer">
        <div class="footer-social">
            
                
                <v-btn icon href="https://github.com/ZedMoster" target="_blank">
                    <v-icon>fab fa-github</v-icon>
                </v-btn>
            
        </div>
        <v-divider></v-divider>
        <div class="footer-content">
            
                <span id="busuanzi_container_site_uv" style="display: none;"> 
                    总访客量 <span id="busuanzi_value_site_uv"></span>
                </span>
                <br>
            
            <span>Powered by <a target="_blank" rel="noopener" href="https://github.com/ZedMoster/">ZedMoster</a></span><br>
            <span>
                &copy; 2020 - 2021 
                龙
            </span>
        </div>
    </div>
</div>

                        </v-col>
                        <v-col cols="12" md="10">
                            <v-row>
  <v-col cols="12" md="8" align-self="end">
    <div id="site-header">
      <div id="site-title">
        <a href="/" rel="home">龙|Engineer|BIMer</a>
      </div>
      <div id="site-description">记录学习轨迹</div>
      <div id="mobile-menu" class="d-block d-md-none">
        <v-text-field label="请输入关键字...." data-src="search.xml" v-model="searchHeaderValue" prepend-inner-icon="search" clearable clear-icon="clear" @keydown.enter="EnterSearch(searchHeaderValue,true)"></v-text-field>
        <div class="mobile-mini-menu">
          <v-btn icon href="/">
              <v-icon>home</v-icon>
          </v-btn>
          <v-btn icon href="/categories/">
              <v-icon>folder</v-icon>
          </v-btn>
          <v-btn icon href="/tags/">
              <v-icon>bookmark</v-icon>
          </v-btn>
          <v-btn icon @click="SetNightMode">
              <v-icon>{{ nightMode }}</v-icon>
          </v-btn>
          
            
            <v-btn icon href="/archives/">
              <v-icon>archive</v-icon>
            </v-btn>
          
            
            <v-btn icon href="/about/">
              <v-icon>account_circle</v-icon>
            </v-btn>
          
            
            <v-btn icon href="https://space.bilibili.com/81888284">
              <v-icon>rss_feed</v-icon>
            </v-btn>
          
        </div>
      </div>    
    </div>
  </v-col>  
  <v-col cols="4" align-self="end" class="d-none d-md-block">
    <v-col align-self="end">
      <v-text-field label="请输入关键字...." data-src="search.xml" v-model="searchHeaderValue" prepend-icon="search" clearable clear-icon="clear" @keydown.enter="EnterSearch(searchHeaderValue,true)"></v-text-field>
    </v-col> 
  </v-col>
</v-row>

                            <v-card class="elevation-2 post-card">
    
    
        <div class="post-header">
  <a class="post-header-title font-weight-medium" href="/2021/02/23/0.learn_pandas/Pandas%20%E5%85%A5%E9%97%A8%E6%89%8B%E5%86%8C/">十分钟入门 Pandas</a>
  <div class="post-header-meta">   
    <span>
      <v-icon color="">event</v-icon>
      发布于:&nbsp;2021-02-23
    </span>
    <span>
      <v-icon color="">event_available</v-icon>
      更新于:&nbsp;2021-02-24
    </span>
    <span>
      <v-icon color="">folder</v-icon>
      分类于:&nbsp;<a class="category-link" href="/categories/python/">python</a>
    </span>
    
    <span>
      <v-icon color="">visibility</v-icon>
      阅读次数:&nbsp;<span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
    </span>
    
  </div>
</div>

    
    
    
    
    <div class="post-content typo">
        <p><img src="https://cdn.nlark.com/yuque/0/2020/png/566404/1601964670763-f3cf3a01-4a9d-4851-99a0-4191acb7bf5b.png#align=left&display=inline&height=201&margin=%5Bobject%20Object%5D&name=1_cxfqR8NAj8HGal8CVOZ7hg.png&originHeight=201&originWidth=481&size=13931&status=done&style=none&width=481" alt="Pandas.png"></p>
<p><code>十分钟(删掉小时)入门 Pandas</code></p>
<hr>
<h2 id="导入-Pandas"><a href="#导入-Pandas" class="headerlink" title="导入 Pandas"></a>导入 Pandas</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<p><a target="_blank" rel="noopener" href="https://www.pypandas.cn/deep/">——————–官方文档——————–</a></p>
<hr>
<h2 id="生成对象"><a href="#生成对象" class="headerlink" title="生成对象"></a>生成对象</h2><h3 id="创建-一维数据-对象"><a href="#创建-一维数据-对象" class="headerlink" title="创建 一维数据 对象"></a>创建 一维数据 对象</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">d1 = pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">d2 = pd.Series([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># df = pd.DataFrame(&#123;&quot;A&quot;:d1, &quot;B&quot;:d2&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0    1</span></span><br><span class="line"><span class="string">1    2</span></span><br><span class="line"><span class="string">2    3</span></span><br><span class="line"><span class="string">3    4</span></span><br><span class="line"><span class="string">4    5</span></span><br><span class="line"><span class="string">dtype: int64</span></span><br><span class="line"><span class="string">0    a</span></span><br><span class="line"><span class="string">1    b</span></span><br><span class="line"><span class="string">2    c</span></span><br><span class="line"><span class="string">3    d</span></span><br><span class="line"><span class="string">4    e</span></span><br><span class="line"><span class="string">dtype: object</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="创建-二维数据-对象"><a href="#创建-二维数据-对象" class="headerlink" title="创建 二维数据 对象"></a>创建 二维数据 对象</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个6行3列的随机数据</span></span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">6</span>,<span class="number">3</span>),</span><br><span class="line">                  index = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>)], columns = [<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.124665  1.354623 -0.701115</span></span><br><span class="line"><span class="string">1  0.793852 -0.378799  0.502619</span></span><br><span class="line"><span class="string">2 -0.343502 -0.153304  1.008549</span></span><br><span class="line"><span class="string">3  1.047741  0.434839 -0.461387</span></span><br><span class="line"><span class="string">4 -2.024051  0.270098  0.750414</span></span><br><span class="line"><span class="string">5  0.756700  0.265707 -0.531845</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="查看数据"><a href="#查看数据" class="headerlink" title="查看数据"></a>查看数据</h2><h3 id="查看-DataFrame-头部与尾部数据"><a href="#查看-DataFrame-头部与尾部数据" class="headerlink" title="查看 DataFrame 头部与尾部数据"></a>查看 DataFrame 头部与尾部数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">print(df)            <span class="comment"># 查看全部数据</span></span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)        <span class="comment"># 分隔</span></span><br><span class="line">print(df.head())     <span class="comment"># 查看头部数据</span></span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)        <span class="comment"># 分隔</span></span><br><span class="line">print(df.tail(<span class="number">3</span>))    <span class="comment"># 查看尾部数据</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.162626  0.743775 -0.043558</span></span><br><span class="line"><span class="string">1  0.284162 -0.957022  1.618578</span></span><br><span class="line"><span class="string">2  0.027395 -0.073792  1.730417</span></span><br><span class="line"><span class="string">3  0.030660  2.162612  1.087933</span></span><br><span class="line"><span class="string">4 -0.840563  0.011711 -1.582771</span></span><br><span class="line"><span class="string">5 -1.129669 -1.069730 -1.274151</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.162626  0.743775 -0.043558</span></span><br><span class="line"><span class="string">1  0.284162 -0.957022  1.618578</span></span><br><span class="line"><span class="string">2  0.027395 -0.073792  1.730417</span></span><br><span class="line"><span class="string">3  0.030660  2.162612  1.087933</span></span><br><span class="line"><span class="string">4 -0.840563  0.011711 -1.582771</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">3  0.030660  2.162612  1.087933</span></span><br><span class="line"><span class="string">4 -0.840563  0.011711 -1.582771</span></span><br><span class="line"><span class="string">5 -1.129669 -1.069730 -1.274151</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="查看-索引与列名"><a href="#查看-索引与列名" class="headerlink" title="查看 索引与列名"></a>查看 索引与列名</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df.index)     <span class="comment"># 查看索引</span></span><br><span class="line">print(df.columns)   <span class="comment"># 查看列名</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Int64Index([0, 1, 2, 3, 4, 5], dtype=&#x27;int64&#x27;)</span></span><br><span class="line"><span class="string">Index([&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;], dtype=&#x27;object&#x27;)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="快速查看数据的-统计摘要"><a href="#快速查看数据的-统计摘要" class="headerlink" title="快速查看数据的 统计摘要"></a>快速查看数据的 统计摘要</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">print(df.describe())   <span class="comment"># 数据的统计摘要</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">               A          B          C</span></span><br><span class="line"><span class="string">count  10.000000  10.000000  10.000000</span></span><br><span class="line"><span class="string">mean   -0.134164   0.066692  -0.623249</span></span><br><span class="line"><span class="string">std     0.972375   1.050455   0.807784</span></span><br><span class="line"><span class="string">min    -1.643474  -1.460358  -1.860893</span></span><br><span class="line"><span class="string">25%    -0.709000  -0.225956  -1.223937</span></span><br><span class="line"><span class="string">50%    -0.300770  -0.065260  -0.560801</span></span><br><span class="line"><span class="string">75%     0.403706   0.283554  -0.120445</span></span><br><span class="line"><span class="string">max     1.663865   2.175142   0.768465</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="转置数据"><a href="#转置数据" class="headerlink" title="转置数据"></a>转置数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.T)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  1.090855 -1.072805  0.184583</span></span><br><span class="line"><span class="string">1 -0.868626  0.318964 -0.121629</span></span><br><span class="line"><span class="string">2 -0.791555  0.260809 -0.710310</span></span><br><span class="line"><span class="string">3 -1.929772 -0.051195 -0.728330</span></span><br><span class="line"><span class="string">4  2.554131  0.498501  2.133360</span></span><br><span class="line"><span class="string">5 -0.823963 -1.090279 -0.522702</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          0         1         2         3         4         5</span></span><br><span class="line"><span class="string">A  1.090855 -0.868626 -0.791555 -1.929772  2.554131 -0.823963</span></span><br><span class="line"><span class="string">B -1.072805  0.318964  0.260809 -0.051195  0.498501 -1.090279</span></span><br><span class="line"><span class="string">C  0.184583 -0.121629 -0.710310 -0.728330  2.133360 -0.522702</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="按轴排序"><a href="#按轴排序" class="headerlink" title="按轴排序"></a>按轴排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line"><span class="comment"># axis: 0 按行 1 按列  ascending: False 不改变源数据 True 改变源数据</span></span><br><span class="line">print(df.sort_index(axis=<span class="number">1</span>, ascending=<span class="literal">False</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  2.155336 -0.434339 -0.090391</span></span><br><span class="line"><span class="string">1  0.890209  0.129525  1.179782</span></span><br><span class="line"><span class="string">2  1.220253  1.303012 -0.698433</span></span><br><span class="line"><span class="string">3 -0.804471  0.224135 -0.703521</span></span><br><span class="line"><span class="string">4 -1.253433 -1.146150 -0.735121</span></span><br><span class="line"><span class="string">5 -0.670339 -1.742963  1.990105</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          C         B         A</span></span><br><span class="line"><span class="string">0 -0.090391 -0.434339  2.155336</span></span><br><span class="line"><span class="string">1  1.179782  0.129525  0.890209</span></span><br><span class="line"><span class="string">2 -0.698433  1.303012  1.220253</span></span><br><span class="line"><span class="string">3 -0.703521  0.224135 -0.804471</span></span><br><span class="line"><span class="string">4 -0.735121 -1.146150 -1.253433</span></span><br><span class="line"><span class="string">5  1.990105 -1.742963 -0.670339</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="按值排序"><a href="#按值排序" class="headerlink" title="按值排序"></a>按值排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.sort_values(by=<span class="string">&quot;A&quot;</span>))  <span class="comment"># 按列名所对应的值</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -0.949729  0.405278  0.538712</span></span><br><span class="line"><span class="string">1 -0.064786  1.980200 -0.487046</span></span><br><span class="line"><span class="string">2 -0.399375  2.208867 -0.220238</span></span><br><span class="line"><span class="string">3  2.146529 -1.066433 -1.176879</span></span><br><span class="line"><span class="string">4 -0.898716 -2.105429 -0.558320</span></span><br><span class="line"><span class="string">5  2.259551  0.161280 -0.290100</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -0.949729  0.405278  0.538712</span></span><br><span class="line"><span class="string">4 -0.898716 -2.105429 -0.558320</span></span><br><span class="line"><span class="string">2 -0.399375  2.208867 -0.220238</span></span><br><span class="line"><span class="string">1 -0.064786  1.980200 -0.487046</span></span><br><span class="line"><span class="string">3  2.146529 -1.066433 -1.176879</span></span><br><span class="line"><span class="string">5  2.259551  0.161280 -0.290100</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="选择数据"><a href="#选择数据" class="headerlink" title="选择数据"></a>选择数据</h2><p><strong>推荐使用</strong>：优化过的 <strong>Pandas</strong> 数据访问方法：<code>.at \ .iat \ .loc \ .iloc</code></p>
<h3 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h3><p>获取单列，产生 <strong>Series</strong>。与 <strong>df.A</strong> 等效</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df[<span class="string">&quot;A&quot;</span>])</span><br><span class="line"><span class="comment"># print(df.A)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -3.889165  0.058995 -0.131490</span></span><br><span class="line"><span class="string">1  0.214254  0.753761 -0.406589</span></span><br><span class="line"><span class="string">2 -0.321746  0.337223  1.209453</span></span><br><span class="line"><span class="string">3 -0.096389  0.656442  1.016707</span></span><br><span class="line"><span class="string">4 -0.496134 -0.798966  0.425654</span></span><br><span class="line"><span class="string">5  0.278245 -0.705807  0.986345</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">0   -3.889165</span></span><br><span class="line"><span class="string">1    0.214254</span></span><br><span class="line"><span class="string">2   -0.321746</span></span><br><span class="line"><span class="string">3   -0.096389</span></span><br><span class="line"><span class="string">4   -0.496134</span></span><br><span class="line"><span class="string">5    0.278245</span></span><br><span class="line"><span class="string">Name: A, dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>用[ ] 切片行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df[<span class="number">2</span>:<span class="number">4</span>])   <span class="comment"># 第2行至第4行，左闭右开</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -0.364004  0.148870 -0.330680</span></span><br><span class="line"><span class="string">1 -0.572930 -1.423234  1.984326</span></span><br><span class="line"><span class="string">2 -1.996496  0.120526 -2.829968</span></span><br><span class="line"><span class="string">3  0.406163  0.824016  0.957999</span></span><br><span class="line"><span class="string">4 -1.215831 -1.298448  0.947810</span></span><br><span class="line"><span class="string">5 -0.511757  1.180600  0.913132</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">2 -1.996496  0.120526 -2.829968</span></span><br><span class="line"><span class="string">3  0.406163  0.824016  0.957999</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="按标签选择"><a href="#按标签选择" class="headerlink" title="按标签选择"></a>按标签选择</h3><p>用标签提取一行数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.loc[df.index[<span class="number">0</span>]])    <span class="comment"># 索引为提取行数的索引</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.339023  0.661502  0.824986</span></span><br><span class="line"><span class="string">1  0.619245  0.474774 -0.055600</span></span><br><span class="line"><span class="string">2  1.015228 -0.355425 -0.444053</span></span><br><span class="line"><span class="string">3 -0.424160 -0.761022  0.024026</span></span><br><span class="line"><span class="string">4  0.932760  0.666029 -0.203720</span></span><br><span class="line"><span class="string">5 -1.002828  0.209472 -1.442866</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">A    0.339023</span></span><br><span class="line"><span class="string">B    0.661502</span></span><br><span class="line"><span class="string">C    0.824986</span></span><br><span class="line"><span class="string">Name: 0, dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>用标签选择多列数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.loc[:, [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]])   <span class="comment"># : 提取所有的行  列名为 A B 的列</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -0.060654 -0.813041 -1.073970</span></span><br><span class="line"><span class="string">1 -0.851160  1.043976  0.194183</span></span><br><span class="line"><span class="string">2  0.264642 -0.331834 -0.193718</span></span><br><span class="line"><span class="string">3  0.803170  2.130145  0.244753</span></span><br><span class="line"><span class="string">4  1.028380  1.088563 -1.176200</span></span><br><span class="line"><span class="string">5  0.824463  0.115124 -0.603710</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B</span></span><br><span class="line"><span class="string">0 -0.060654 -0.813041</span></span><br><span class="line"><span class="string">1 -0.851160  1.043976</span></span><br><span class="line"><span class="string">2  0.264642 -0.331834</span></span><br><span class="line"><span class="string">3  0.803170  2.130145</span></span><br><span class="line"><span class="string">4  1.028380  1.088563</span></span><br><span class="line"><span class="string">5  0.824463  0.115124</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>用标签切片，包含行与列结束点</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.loc[<span class="number">2</span>:<span class="number">4</span>, [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]])   <span class="comment"># : 提取2-4行  列名为 A B 的列</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  1.341213  1.374567  0.896175</span></span><br><span class="line"><span class="string">1 -1.432347 -1.498885  0.897229</span></span><br><span class="line"><span class="string">2 -0.169359 -0.079813  0.778938</span></span><br><span class="line"><span class="string">3  0.393801  0.451041 -0.689613</span></span><br><span class="line"><span class="string">4 -1.103175  1.342899 -0.402991</span></span><br><span class="line"><span class="string">5  0.742279 -0.119841  1.114146</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B</span></span><br><span class="line"><span class="string">2 -0.169359 -0.079813</span></span><br><span class="line"><span class="string">3  0.393801  0.451041</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>提取标量值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.loc[<span class="number">0</span>, <span class="string">&#x27;A&#x27;</span>])   <span class="comment"># 按行列名提取值</span></span><br><span class="line"><span class="comment"># print(df.at[0, &#x27;A&#x27;])</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  1.046345  1.010179 -0.352825</span></span><br><span class="line"><span class="string">1 -0.409664  1.269217  0.393418</span></span><br><span class="line"><span class="string">2  0.059705 -1.613766  0.560100</span></span><br><span class="line"><span class="string">3 -1.070312 -1.936424  1.092546</span></span><br><span class="line"><span class="string">4  0.237776  1.716479  0.188743</span></span><br><span class="line"><span class="string">5 -0.321937  1.261209 -0.169163</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">1.04634487598175</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="按位置选择"><a href="#按位置选择" class="headerlink" title="按位置选择"></a>按位置选择</h3><p>用整数位置选择</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.iloc[<span class="number">1</span>])    <span class="comment"># 行位置进行选择</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.872330  0.687903  0.159091</span></span><br><span class="line"><span class="string">1  0.829951 -1.186121  0.955721</span></span><br><span class="line"><span class="string">2 -0.641111  1.725069  0.439762</span></span><br><span class="line"><span class="string">3 -0.353691  1.285310 -1.207174</span></span><br><span class="line"><span class="string">4 -2.075890 -0.105968  0.072471</span></span><br><span class="line"><span class="string">5  1.347517 -0.675439  1.083256</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">A    0.829951</span></span><br><span class="line"><span class="string">B   -1.186121</span></span><br><span class="line"><span class="string">C    0.955721</span></span><br><span class="line"><span class="string">Name: 1, dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>类似 NumPy / Python，用整数切片</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.iloc[<span class="number">3</span>:<span class="number">5</span>, <span class="number">0</span>:<span class="number">2</span>])   <span class="comment"># 切片选择</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  1.326371  0.416501 -0.848363</span></span><br><span class="line"><span class="string">1 -0.112608 -0.330069 -1.758926</span></span><br><span class="line"><span class="string">2 -0.783527  1.840435 -1.879246</span></span><br><span class="line"><span class="string">3 -1.322841  0.379742  0.861523</span></span><br><span class="line"><span class="string">4 -0.650409  2.086843  0.781831</span></span><br><span class="line"><span class="string">5  2.226036 -1.644519 -0.401621</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B</span></span><br><span class="line"><span class="string">3 -1.322841  0.379742</span></span><br><span class="line"><span class="string">4 -0.650409  2.086843</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>类似 NumPy / Python，用整数列表按位置切片</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.iloc[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>], [<span class="number">0</span>, <span class="number">2</span>]])   <span class="comment"># 按位置</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -0.097128  0.610125 -2.352895</span></span><br><span class="line"><span class="string">1  0.649887  0.805659  0.090565</span></span><br><span class="line"><span class="string">2  2.301369  0.795259 -0.413643</span></span><br><span class="line"><span class="string">3  0.492440  1.282051 -1.398503</span></span><br><span class="line"><span class="string">4 -0.470341  0.998427 -0.081993</span></span><br><span class="line"><span class="string">5 -0.959278 -0.810422 -1.229398</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         C</span></span><br><span class="line"><span class="string">1  0.649887  0.090565</span></span><br><span class="line"><span class="string">2  2.301369 -0.413643</span></span><br><span class="line"><span class="string">4 -0.470341 -0.081993</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>整行切片</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.iloc[<span class="number">1</span>:<span class="number">3</span>, :])   <span class="comment"># 整行切片</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -0.153717 -0.106818 -0.172407</span></span><br><span class="line"><span class="string">1 -0.283473 -0.683112 -0.750459</span></span><br><span class="line"><span class="string">2 -1.485220  0.992581 -0.021852</span></span><br><span class="line"><span class="string">3  0.245505 -1.018984  0.165750</span></span><br><span class="line"><span class="string">4  0.777344 -0.746399  0.870930</span></span><br><span class="line"><span class="string">5 -0.984809  2.206306  0.940896</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">1 -0.283473 -0.683112 -0.750459</span></span><br><span class="line"><span class="string">2 -1.485220  0.992581 -0.021852</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>整列切片</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.iloc[:, <span class="number">1</span>:<span class="number">3</span>])   <span class="comment"># 整列切片</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -1.993272  1.161443  0.352810</span></span><br><span class="line"><span class="string">1 -0.377859 -1.122316 -0.952971</span></span><br><span class="line"><span class="string">2  0.392742  0.366656 -1.719720</span></span><br><span class="line"><span class="string">3 -1.132892  1.721778  1.413876</span></span><br><span class="line"><span class="string">4  0.846929 -0.397196  0.722770</span></span><br><span class="line"><span class="string">5 -1.910569  0.215684  1.384120</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          B         C</span></span><br><span class="line"><span class="string">0  1.161443  0.352810</span></span><br><span class="line"><span class="string">1 -1.122316 -0.952971</span></span><br><span class="line"><span class="string">2  0.366656 -1.719720</span></span><br><span class="line"><span class="string">3  1.721778  1.413876</span></span><br><span class="line"><span class="string">4 -0.397196  0.722770</span></span><br><span class="line"><span class="string">5  0.215684  1.384120</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>提取值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.iloc[<span class="number">1</span>, <span class="number">1</span>])   <span class="comment"># 提取指定行列位置单元格的值</span></span><br><span class="line"><span class="comment"># print(df.iat[1,1])</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.075752  0.842907 -2.969243</span></span><br><span class="line"><span class="string">1 -0.253084  0.069218  1.421668</span></span><br><span class="line"><span class="string">2  0.671382  0.187895 -0.062780</span></span><br><span class="line"><span class="string">3 -0.544736 -2.225326 -1.944038</span></span><br><span class="line"><span class="string">4 -0.542584 -0.391144  0.145839</span></span><br><span class="line"><span class="string">5  0.615728 -0.719422 -0.087461</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">0.06921757818689403</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="布尔索引"><a href="#布尔索引" class="headerlink" title="布尔索引"></a>布尔索引</h3><p>用单列的值选择数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df[df.A &gt; <span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.225120  0.312929  1.179228</span></span><br><span class="line"><span class="string">1 -0.357687  1.709017  1.623291</span></span><br><span class="line"><span class="string">2  0.278348 -1.132671  1.207691</span></span><br><span class="line"><span class="string">3 -2.523049  0.227406 -0.360994</span></span><br><span class="line"><span class="string">4 -0.157327 -0.292324 -0.197861</span></span><br><span class="line"><span class="string">5 -0.708942  1.225583  0.281490</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.225120  0.312929  1.179228</span></span><br><span class="line"><span class="string">2  0.278348 -1.132671  1.207691</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>选择 DataFrame 里满足条件的值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df[df &gt; <span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.456279 -1.338378 -0.116922</span></span><br><span class="line"><span class="string">1 -1.835649  1.514987 -0.862178</span></span><br><span class="line"><span class="string">2  0.515765  1.064303  0.717328</span></span><br><span class="line"><span class="string">3  1.485883  1.320943  0.977202</span></span><br><span class="line"><span class="string">4  1.033369 -0.980634 -1.702996</span></span><br><span class="line"><span class="string">5  0.385172  0.056046  0.784007</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.456279       NaN       NaN</span></span><br><span class="line"><span class="string">1       NaN  1.514987       NaN</span></span><br><span class="line"><span class="string">2  0.515765  1.064303  0.717328</span></span><br><span class="line"><span class="string">3  1.485883  1.320943  0.977202</span></span><br><span class="line"><span class="string">4  1.033369       NaN       NaN</span></span><br><span class="line"><span class="string">5  0.385172  0.056046  0.784007</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>用  <strong>isin()</strong> 筛选</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加辅助列</span></span><br><span class="line">df[<span class="string">&#x27;D&#x27;</span>] = [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;three&#x27;</span>]</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df[df[<span class="string">&#x27;D&#x27;</span>].isin([<span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;four&#x27;</span>])])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C      D</span></span><br><span class="line"><span class="string">0 -0.282657 -1.393703  0.875241    one</span></span><br><span class="line"><span class="string">1 -0.276764 -1.399960 -0.028655    one</span></span><br><span class="line"><span class="string">2  1.611027  1.376589  0.043859    two</span></span><br><span class="line"><span class="string">3 -0.360664 -0.490467  0.489825  three</span></span><br><span class="line"><span class="string">4  0.218109  1.323599 -0.541452   four</span></span><br><span class="line"><span class="string">5  0.307106  0.358602 -0.751541  three</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C     D</span></span><br><span class="line"><span class="string">2  1.611027  1.376589  0.043859   two</span></span><br><span class="line"><span class="string">4  0.218109  1.323599 -0.541452  four</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h3><p>用索引自动对齐新增列的数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 增列的数据</span></span><br><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], index= [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>)])</span><br><span class="line"><span class="comment"># s = pd.Series([1, 2, 3, 4], index= [i for i in range(4)])</span></span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">df[<span class="string">&quot;D&quot;</span>] = s</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  1.541004 -0.621590  0.542895</span></span><br><span class="line"><span class="string">1  0.685524  1.112586 -0.224701</span></span><br><span class="line"><span class="string">2 -0.531432  1.739056 -1.160524</span></span><br><span class="line"><span class="string">3  0.220122 -0.507556  0.289801</span></span><br><span class="line"><span class="string">4  0.791843 -0.278992 -1.662583</span></span><br><span class="line"><span class="string">5  0.494893 -1.428766 -1.913229</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C  D</span></span><br><span class="line"><span class="string">0  1.541004 -0.621590  0.542895  1</span></span><br><span class="line"><span class="string">1  0.685524  1.112586 -0.224701  2</span></span><br><span class="line"><span class="string">2 -0.531432  1.739056 -1.160524  3</span></span><br><span class="line"><span class="string">3  0.220122 -0.507556  0.289801  4</span></span><br><span class="line"><span class="string">4  0.791843 -0.278992 -1.662583  5</span></span><br><span class="line"><span class="string">5  0.494893 -1.428766 -1.913229  6</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>按标签赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">df.at[df.index[<span class="number">0</span>], <span class="string">&quot;A&quot;</span>] = <span class="number">0</span></span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -0.896498 -1.134660 -1.701185</span></span><br><span class="line"><span class="string">1 -0.495562 -0.039068 -0.136614</span></span><br><span class="line"><span class="string">2  0.156827  0.028074  0.051109</span></span><br><span class="line"><span class="string">3  1.300580 -0.404301  0.557794</span></span><br><span class="line"><span class="string">4  0.648387 -0.110362  0.682723</span></span><br><span class="line"><span class="string">5  0.627710  1.071018 -0.375658</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.000000 -1.134660 -1.701185</span></span><br><span class="line"><span class="string">1 -0.495562 -0.039068 -0.136614</span></span><br><span class="line"><span class="string">2  0.156827  0.028074  0.051109</span></span><br><span class="line"><span class="string">3  1.300580 -0.404301  0.557794</span></span><br><span class="line"><span class="string">4  0.648387 -0.110362  0.682723</span></span><br><span class="line"><span class="string">5  0.627710  1.071018 -0.375658</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>按位置赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">df.iat[<span class="number">0</span>,<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -0.229924 -1.556863  1.382965</span></span><br><span class="line"><span class="string">1  1.078071 -1.616441 -0.906143</span></span><br><span class="line"><span class="string">2 -0.998971  0.095389  0.307799</span></span><br><span class="line"><span class="string">3 -1.363223  1.481546 -0.640917</span></span><br><span class="line"><span class="string">4  0.797193 -1.737114  0.529679</span></span><br><span class="line"><span class="string">5  0.293870  0.813873 -1.296403</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.000000 -1.556863  1.382965</span></span><br><span class="line"><span class="string">1  1.078071 -1.616441 -0.906143</span></span><br><span class="line"><span class="string">2 -0.998971  0.095389  0.307799</span></span><br><span class="line"><span class="string">3 -1.363223  1.481546 -0.640917</span></span><br><span class="line"><span class="string">4  0.797193 -1.737114  0.529679</span></span><br><span class="line"><span class="string">5  0.293870  0.813873 -1.296403</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>用  <strong>where</strong> 条件赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">df[df &lt; <span class="number">0</span>] = -df</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.283596  0.338517 -0.051221</span></span><br><span class="line"><span class="string">1  1.504277 -0.642568 -2.094442</span></span><br><span class="line"><span class="string">2 -1.054536  0.605670  0.345182</span></span><br><span class="line"><span class="string">3 -0.316435 -0.360860 -0.623269</span></span><br><span class="line"><span class="string">4  0.893348 -0.417538 -1.249896</span></span><br><span class="line"><span class="string">5  1.234152  0.341326  1.208369</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  0.283596  0.338517  0.051221</span></span><br><span class="line"><span class="string">1  1.504277  0.642568  2.094442</span></span><br><span class="line"><span class="string">2  1.054536  0.605670  0.345182</span></span><br><span class="line"><span class="string">3  0.316435  0.360860  0.623269</span></span><br><span class="line"><span class="string">4  0.893348  0.417538  1.249896</span></span><br><span class="line"><span class="string">5  1.234152  0.341326  1.208369</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="缺失值"><a href="#缺失值" class="headerlink" title="缺失值"></a>缺失值</h2><p>Pandas 主要用  <strong>np.nan</strong>  表示缺失数据。</p>
<h3 id="删除所有含缺失值的行"><a href="#删除所有含缺失值的行" class="headerlink" title="删除所有含缺失值的行"></a>删除所有含缺失值的行</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index= [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>)])</span><br><span class="line">df[<span class="string">&quot;D&quot;</span>] = s</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.dropna(how=<span class="string">&#x27;any&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C    D</span></span><br><span class="line"><span class="string">0 -0.543853  1.078289  1.605213  NaN</span></span><br><span class="line"><span class="string">1  0.153537 -0.710202  0.759139  1.0</span></span><br><span class="line"><span class="string">2 -1.274189 -1.197363 -0.827345  2.0</span></span><br><span class="line"><span class="string">3 -0.842268 -0.461013 -0.506485  3.0</span></span><br><span class="line"><span class="string">4  1.244591  0.628373  0.222035  NaN</span></span><br><span class="line"><span class="string">5 -1.022085  2.114092 -1.020721  NaN</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C    D</span></span><br><span class="line"><span class="string">1  0.153537 -0.710202  0.759139  1.0</span></span><br><span class="line"><span class="string">2 -1.274189 -1.197363 -0.827345  2.0</span></span><br><span class="line"><span class="string">3 -0.842268 -0.461013 -0.506485  3.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="填充缺失值"><a href="#填充缺失值" class="headerlink" title="填充缺失值"></a>填充缺失值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index= [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>)])</span><br><span class="line">df[<span class="string">&quot;D&quot;</span>] = s</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.fillna(value=<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C    D</span></span><br><span class="line"><span class="string">0  0.320348 -0.155423 -1.706578  NaN</span></span><br><span class="line"><span class="string">1 -1.117155 -1.388033 -0.112940  1.0</span></span><br><span class="line"><span class="string">2  1.472523 -1.621894  0.281751  2.0</span></span><br><span class="line"><span class="string">3 -1.273164 -0.487470 -0.156216  3.0</span></span><br><span class="line"><span class="string">4  0.323109  1.527510  0.648772  NaN</span></span><br><span class="line"><span class="string">5 -0.297837 -2.281177  1.050784  NaN</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C    D</span></span><br><span class="line"><span class="string">0  0.320348 -0.155423 -1.706578  0.0</span></span><br><span class="line"><span class="string">1 -1.117155 -1.388033 -0.112940  1.0</span></span><br><span class="line"><span class="string">2  1.472523 -1.621894  0.281751  2.0</span></span><br><span class="line"><span class="string">3 -1.273164 -0.487470 -0.156216  3.0</span></span><br><span class="line"><span class="string">4  0.323109  1.527510  0.648772  0.0</span></span><br><span class="line"><span class="string">5 -0.297837 -2.281177  1.050784  0.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="提取-NaN-值的布尔掩码"><a href="#提取-NaN-值的布尔掩码" class="headerlink" title="提取  NaN 值的布尔掩码"></a>提取  NaN 值的布尔掩码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index= [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>)])</span><br><span class="line">df[<span class="string">&quot;D&quot;</span>] = s</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.isna())</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C    D</span></span><br><span class="line"><span class="string">0  0.462171 -0.212011  1.621004  NaN</span></span><br><span class="line"><span class="string">1 -2.031842  1.020010 -0.346799  1.0</span></span><br><span class="line"><span class="string">2  0.772598 -1.037917  0.252420  2.0</span></span><br><span class="line"><span class="string">3 -0.995666 -0.464408 -0.319256  3.0</span></span><br><span class="line"><span class="string">4 -1.564766  0.503919 -0.021231  NaN</span></span><br><span class="line"><span class="string">5  0.598078 -0.400159 -0.112247  NaN</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">       A      B      C      D</span></span><br><span class="line"><span class="string">0  False  False  False   True</span></span><br><span class="line"><span class="string">1  False  False  False  False</span></span><br><span class="line"><span class="string">2  False  False  False  False</span></span><br><span class="line"><span class="string">3  False  False  False  False</span></span><br><span class="line"><span class="string">4  False  False  False   True</span></span><br><span class="line"><span class="string">5  False  False  False   True</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><h3 id="统计"><a href="#统计" class="headerlink" title="统计"></a>统计</h3><p>一般情况下，运算时<strong>排除</strong>缺失值。<br><strong>描述性统计</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index= [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>)])</span><br><span class="line">df[<span class="string">&quot;D&quot;</span>] = s</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.mean())</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C    D</span></span><br><span class="line"><span class="string">0 -1.703692 -0.575941  0.628585  NaN</span></span><br><span class="line"><span class="string">1  0.916258  0.854553  0.380848  1.0</span></span><br><span class="line"><span class="string">2  0.492740 -0.523946  1.288998  2.0</span></span><br><span class="line"><span class="string">3  0.533275 -0.607054 -2.210509  3.0</span></span><br><span class="line"><span class="string">4 -1.286734  1.610702  0.775895  NaN</span></span><br><span class="line"><span class="string">5  1.206607 -1.991650  2.387589  NaN</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">A    0.026409</span></span><br><span class="line"><span class="string">B   -0.205556</span></span><br><span class="line"><span class="string">C    0.541901</span></span><br><span class="line"><span class="string">D    2.000000</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>在另一个轴(即，行)上执行同样的操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index= [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>)])</span><br><span class="line">df[<span class="string">&quot;D&quot;</span>] = s</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.mean(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C    D</span></span><br><span class="line"><span class="string">0  0.128729 -0.642457 -1.474499  NaN</span></span><br><span class="line"><span class="string">1  0.021186 -0.041340 -2.857500  1.0</span></span><br><span class="line"><span class="string">2  0.400155  2.757253 -1.097531  2.0</span></span><br><span class="line"><span class="string">3 -0.753501  1.087295 -0.069450  3.0</span></span><br><span class="line"><span class="string">4  0.159137  0.214257  0.319562  NaN</span></span><br><span class="line"><span class="string">5  1.489170 -0.616156  1.099160  NaN</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">0   -0.662743</span></span><br><span class="line"><span class="string">1   -0.469413</span></span><br><span class="line"><span class="string">2    1.014969</span></span><br><span class="line"><span class="string">3    0.816086</span></span><br><span class="line"><span class="string">4    0.230985</span></span><br><span class="line"><span class="string">5    0.657392</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>不同维度对象运算时，要先对齐。 此外，Pandas 自动沿指定维度偏移（空填充 NaN）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">s1 = pd.Series([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, np.nan, <span class="number">6</span>, <span class="number">8</span>], index=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>)])</span><br><span class="line">s2 = pd.Series([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, np.nan, <span class="number">6</span>, <span class="number">8</span>], index=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>)]).shift(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">print(s1)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(s2)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0    1.0</span></span><br><span class="line"><span class="string">1    3.0</span></span><br><span class="line"><span class="string">2    5.0</span></span><br><span class="line"><span class="string">3    NaN</span></span><br><span class="line"><span class="string">4    6.0</span></span><br><span class="line"><span class="string">5    8.0</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">0    NaN</span></span><br><span class="line"><span class="string">1    NaN</span></span><br><span class="line"><span class="string">2    1.0</span></span><br><span class="line"><span class="string">3    3.0</span></span><br><span class="line"><span class="string">4    5.0</span></span><br><span class="line"><span class="string">5    NaN</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>对不同维度的 pandas 对象按 index 进行减法操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, np.nan, <span class="number">6</span>, <span class="number">8</span>], index=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>)]).shift(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.sub(s, axis=<span class="string">&#x27;index&#x27;</span>))   <span class="comment"># 对不同维度的 pandas 对象进行减法操作</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0 -0.584577  1.600920  0.086218</span></span><br><span class="line"><span class="string">1  0.618951  1.851896 -0.424703</span></span><br><span class="line"><span class="string">2 -1.275505  0.841881  0.922940</span></span><br><span class="line"><span class="string">3 -0.190054 -0.358825 -0.540433</span></span><br><span class="line"><span class="string">4 -1.572596 -0.472747  2.342729</span></span><br><span class="line"><span class="string">5  0.328756 -0.890938 -0.099436</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0       NaN       NaN       NaN</span></span><br><span class="line"><span class="string">1       NaN       NaN       NaN</span></span><br><span class="line"><span class="string">2 -2.275505 -0.158119 -0.077060</span></span><br><span class="line"><span class="string">3 -3.190054 -3.358825 -3.540433</span></span><br><span class="line"><span class="string">4 -6.572596 -5.472747 -2.657271</span></span><br><span class="line"><span class="string">5       NaN       NaN       NaN</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="Apply-函数"><a href="#Apply-函数" class="headerlink" title="Apply 函数"></a>Apply 函数</h3><p><strong>np.cumsum()</strong> 计算轴向元素累加和</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, np.nan, <span class="number">9</span>], index=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>)])</span><br><span class="line">df[<span class="string">&quot;D&quot;</span>] = s</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.apply(np.cumsum))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C    D</span></span><br><span class="line"><span class="string">0 -2.061076  0.933043  0.593438  1.0</span></span><br><span class="line"><span class="string">1  0.521699  0.100992  0.803118  3.0</span></span><br><span class="line"><span class="string">2 -0.648522  1.948277  0.424076  5.0</span></span><br><span class="line"><span class="string">3  0.353591  0.956902  0.725868  7.0</span></span><br><span class="line"><span class="string">4  0.015446  2.114823 -0.113994  NaN</span></span><br><span class="line"><span class="string">5  0.187891 -0.402199 -0.408387  9.0</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C     D</span></span><br><span class="line"><span class="string">0 -2.061076  0.933043  0.593438   1.0</span></span><br><span class="line"><span class="string">1 -1.539376  1.034036  1.396556   4.0</span></span><br><span class="line"><span class="string">2 -2.187898  2.982312  1.820633   9.0</span></span><br><span class="line"><span class="string">3 -1.834308  3.939215  2.546501  16.0</span></span><br><span class="line"><span class="string">4 -1.818861  6.054038  2.432507   NaN</span></span><br><span class="line"><span class="string">5 -1.630970  5.651839  2.024119  25.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>lambda</strong> 计算列最大值与最小值差</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, np.nan, <span class="number">9</span>], index=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>)])</span><br><span class="line">df[<span class="string">&quot;D&quot;</span>] = s</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.apply(<span class="keyword">lambda</span> x: x.<span class="built_in">max</span>() - x.<span class="built_in">min</span>()))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C    D</span></span><br><span class="line"><span class="string">0 -0.458813  0.887916 -1.148145  1.0</span></span><br><span class="line"><span class="string">1 -0.641170 -0.508265  1.569428  3.0</span></span><br><span class="line"><span class="string">2  2.144850 -0.914715  1.502805  5.0</span></span><br><span class="line"><span class="string">3 -2.162331  0.916027 -0.552572  7.0</span></span><br><span class="line"><span class="string">4 -0.715221  0.741209  1.283300  NaN</span></span><br><span class="line"><span class="string">5 -0.952700  0.759135  0.839457  9.0</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">A    4.307181</span></span><br><span class="line"><span class="string">B    1.830742</span></span><br><span class="line"><span class="string">C    2.717572</span></span><br><span class="line"><span class="string">D    8.000000</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="字符串方法"><a href="#字符串方法" class="headerlink" title="字符串方法"></a>字符串方法</h3><p><strong>Series</strong> 的  <strong>str</strong>  属性包含一组字符串处理功能</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;Aaba&#x27;</span>, <span class="string">&#x27;Baca&#x27;</span>, np.nan, <span class="string">&#x27;CABA&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>])</span><br><span class="line"><span class="comment"># print(s.str.upper())</span></span><br><span class="line">print(s.<span class="built_in">str</span>.lower())   <span class="comment"># 字符串转小写</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0       a</span></span><br><span class="line"><span class="string">1       b</span></span><br><span class="line"><span class="string">2       c</span></span><br><span class="line"><span class="string">3    aaba</span></span><br><span class="line"><span class="string">4    baca</span></span><br><span class="line"><span class="string">5     NaN</span></span><br><span class="line"><span class="string">6    caba</span></span><br><span class="line"><span class="string">7     dog</span></span><br><span class="line"><span class="string">8     cat</span></span><br><span class="line"><span class="string">dtype: object</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="合并（Merge）"><a href="#合并（Merge）" class="headerlink" title="合并（Merge）"></a>合并（Merge）</h2><h3 id="结合（Concat）"><a href="#结合（Concat）" class="headerlink" title="结合（Concat）"></a>结合（Concat）</h3><p><strong>Pandas</strong> 提供了多种将 <strong>Series</strong>、 <strong>DataFrame</strong> 对象组合在一起的功能，用索引与关联代数功能的多种设置逻辑可执行连接 <code>join</code> 与合并 <code>merge</code> 操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time      : 2020-10-05</span></span><br><span class="line"><span class="comment"># @Author    : xml</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">10</span>,<span class="number">3</span>),</span><br><span class="line">                  index = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)], columns = [<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分割为多组</span></span><br><span class="line">pie = [df[:<span class="number">3</span>],df[<span class="number">7</span>:]]</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(pd.concat(pie))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  1.165033 -0.384343  2.195076</span></span><br><span class="line"><span class="string">1  1.103231  0.897121 -1.539638</span></span><br><span class="line"><span class="string">2 -0.740862 -1.330342  0.758274</span></span><br><span class="line"><span class="string">3 -0.989859 -0.129917 -1.821686</span></span><br><span class="line"><span class="string">4  0.248147 -0.009504 -0.240990</span></span><br><span class="line"><span class="string">5  0.465128  0.874807  0.397816</span></span><br><span class="line"><span class="string">6  2.649065  2.967698  2.902726</span></span><br><span class="line"><span class="string">7  0.902977  2.218083 -0.231896</span></span><br><span class="line"><span class="string">8 -1.029878  0.252509 -0.499249</span></span><br><span class="line"><span class="string">9  0.299016  0.748987 -2.134939</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C</span></span><br><span class="line"><span class="string">0  1.165033 -0.384343  2.195076</span></span><br><span class="line"><span class="string">1  1.103231  0.897121 -1.539638</span></span><br><span class="line"><span class="string">2 -0.740862 -1.330342  0.758274</span></span><br><span class="line"><span class="string">7  0.902977  2.218083 -0.231896</span></span><br><span class="line"><span class="string">8 -1.029878  0.252509 -0.499249</span></span><br><span class="line"><span class="string">9  0.299016  0.748987 -2.134939</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="连接（join）"><a href="#连接（join）" class="headerlink" title="连接（join）"></a>连接（join）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time      : 2020-10-05</span></span><br><span class="line"><span class="comment"># @Author    : xml</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># left = pd.DataFrame(&#123;&#x27;key&#x27;: [&#x27;foo&#x27;, &#x27;foo&#x27;], &#x27;leftVal&#x27;: [1, 2]&#125;)</span></span><br><span class="line"><span class="comment"># right = pd.DataFrame(&#123;&#x27;key&#x27;: [&#x27;foo&#x27;, &#x27;foo&#x27;], &#x27;rightVal&#x27;: [4, 5]&#125;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># df = pd.merge(left, right, on=&#x27;key&#x27;)  # key 相同 计算方式：叉积</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(left)</span></span><br><span class="line"><span class="comment"># print(right)</span></span><br><span class="line"><span class="comment"># print(&quot;=&quot;*30)</span></span><br><span class="line"><span class="comment"># print(df)</span></span><br><span class="line"></span><br><span class="line">left = pd.DataFrame(&#123;<span class="string">&#x27;key&#x27;</span>: [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>], <span class="string">&#x27;lval&#x27;</span>: [<span class="number">1</span>, <span class="number">2</span>]&#125;)</span><br><span class="line">right = pd.DataFrame(&#123;<span class="string">&#x27;key&#x27;</span>: [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>], <span class="string">&#x27;rval&#x27;</span>: [<span class="number">4</span>, <span class="number">5</span>]&#125;)</span><br><span class="line"></span><br><span class="line">df = pd.merge(left, right, on=<span class="string">&#x27;key&#x27;</span>)  <span class="comment"># key 不相同 计算方式：交集</span></span><br><span class="line"></span><br><span class="line">print(left)</span><br><span class="line">print(right)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">   key  lval</span></span><br><span class="line"><span class="string">0  foo     1</span></span><br><span class="line"><span class="string">1  bar     2</span></span><br><span class="line"><span class="string">   key  rval</span></span><br><span class="line"><span class="string">0  foo     4</span></span><br><span class="line"><span class="string">1  bar     5</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">   key  lval  rval</span></span><br><span class="line"><span class="string">0  foo     1     4</span></span><br><span class="line"><span class="string">1  bar     2     5</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="追加（Append）"><a href="#追加（Append）" class="headerlink" title="追加（Append）"></a>追加（Append）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time      : 2020-10-05</span></span><br><span class="line"><span class="comment"># @Author    : xml</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">3</span>, <span class="number">4</span>), columns=[<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>])</span><br><span class="line"></span><br><span class="line">s = df.iloc[-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.append(s, ignore_index=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">          A         B         C         D</span></span><br><span class="line"><span class="string">0  0.611300 -0.800572 -0.353525 -1.236768</span></span><br><span class="line"><span class="string">1  1.525472  0.664762 -0.801413 -0.047937</span></span><br><span class="line"><span class="string">2 -1.012871  1.016602 -1.807150 -0.570177</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">          A         B         C         D</span></span><br><span class="line"><span class="string">0  0.611300 -0.800572 -0.353525 -1.236768</span></span><br><span class="line"><span class="string">1  1.525472  0.664762 -0.801413 -0.047937</span></span><br><span class="line"><span class="string">2 -1.012871  1.016602 -1.807150 -0.570177</span></span><br><span class="line"><span class="string">3 -1.012871  1.016602 -1.807150 -0.570177</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="分组（Grouping）"><a href="#分组（Grouping）" class="headerlink" title="分组（Grouping）"></a>分组（Grouping）</h2><p><strong>groupby</strong> 指的是涵盖下列一项或多项步骤的处理流程：</p>
<ul>
<li><strong>分割</strong>：按条件把数据分割成多组；</li>
<li><strong>应用</strong>：为每组单独应用函数；</li>
<li><strong>组合</strong>：将处理结果组合成一个数据结构。</li>
</ul>
<p>先分组，再用 <strong>sum()</strong> 函数计算每组的汇总数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time      : 2020-10-05</span></span><br><span class="line"><span class="comment"># @Author    : xml</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;</span><br><span class="line">    <span class="string">&#x27;A&#x27;</span>: [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;B&#x27;</span>: [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;C&#x27;</span>: np.random.randn(<span class="number">7</span>),</span><br><span class="line">    <span class="string">&#x27;D&#x27;</span>: np.random.randn(<span class="number">7</span>) &#125;)</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.groupby(<span class="string">&#x27;A&#x27;</span>).<span class="built_in">sum</span>())</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">     A      B         C         D</span></span><br><span class="line"><span class="string">0  foo    one  1.308640 -0.023831</span></span><br><span class="line"><span class="string">1  bar    one -1.076809 -0.489503</span></span><br><span class="line"><span class="string">2  foo    two -0.905921  1.384916</span></span><br><span class="line"><span class="string">3  bar  three -1.241199 -0.006680</span></span><br><span class="line"><span class="string">4  foo    two  1.874379 -1.549396</span></span><br><span class="line"><span class="string">5  bar    two -0.277820 -0.636638</span></span><br><span class="line"><span class="string">6  foo  three  1.214788  0.946836</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">            C         D</span></span><br><span class="line"><span class="string">A</span></span><br><span class="line"><span class="string">bar -2.595828 -1.132822</span></span><br><span class="line"><span class="string">foo  3.491886  0.758525</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>多列分组后，生成多层索引，也可以应用  <strong>sum()</strong> 函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;</span><br><span class="line">    <span class="string">&#x27;A&#x27;</span>: [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;B&#x27;</span>: [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;C&#x27;</span>: np.random.randn(<span class="number">7</span>),</span><br><span class="line">    <span class="string">&#x27;D&#x27;</span>: np.random.randn(<span class="number">7</span>) &#125;)</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(df.groupby([<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]).<span class="built_in">sum</span>())</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">     A      B         C         D</span></span><br><span class="line"><span class="string">0  foo    one -0.042610  0.422804</span></span><br><span class="line"><span class="string">1  bar    one -0.784786  2.476076</span></span><br><span class="line"><span class="string">2  foo    two  0.131051  0.137128</span></span><br><span class="line"><span class="string">3  bar  three -0.859655 -0.854677</span></span><br><span class="line"><span class="string">4  foo    two  0.032752 -0.437160</span></span><br><span class="line"><span class="string">5  bar    two  0.150680  0.607142</span></span><br><span class="line"><span class="string">6  foo  three  1.276175  1.193811</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">                  C         D</span></span><br><span class="line"><span class="string">A   B</span></span><br><span class="line"><span class="string">bar one   -0.784786  2.476076</span></span><br><span class="line"><span class="string">    three -0.859655 -0.854677</span></span><br><span class="line"><span class="string">    two    0.150680  0.607142</span></span><br><span class="line"><span class="string">foo one   -0.042610  0.422804</span></span><br><span class="line"><span class="string">    three  1.276175  1.193811</span></span><br><span class="line"><span class="string">    two    0.163803 -0.300032</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="重塑（Reshaping）"><a href="#重塑（Reshaping）" class="headerlink" title="重塑（Reshaping）"></a>重塑（Reshaping）</h2><h3 id="堆叠（Stack）"><a href="#堆叠（Stack）" class="headerlink" title="堆叠（Stack）"></a>堆叠（Stack）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time      : 2020-10-05</span></span><br><span class="line"><span class="comment"># @Author    : xml</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">tuples = <span class="built_in">list</span>(<span class="built_in">zip</span>(*[</span><br><span class="line">    [<span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>,<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;qux&#x27;</span>, <span class="string">&#x27;qux&#x27;</span>],</span><br><span class="line">    [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>] ]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置堆叠</span></span><br><span class="line">index = pd.MultiIndex.from_tuples(tuples, names=[<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;second&#x27;</span>])</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">8</span>, <span class="number">2</span>), index=index, columns=[<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>])</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                     A         B</span></span><br><span class="line"><span class="string">first second</span></span><br><span class="line"><span class="string">bar   one    -1.336275 -0.030989</span></span><br><span class="line"><span class="string">      two     0.368196  0.130646</span></span><br><span class="line"><span class="string">baz   one    -0.812696 -0.482284</span></span><br><span class="line"><span class="string">      two     0.964527 -0.868157</span></span><br><span class="line"><span class="string">foo   one     0.515658 -0.894977</span></span><br><span class="line"><span class="string">      two    -0.576530 -0.778433</span></span><br><span class="line"><span class="string">qux   one    -1.153507  1.761371</span></span><br><span class="line"><span class="string">      two    -0.954842 -0.315546</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>压缩后的 <strong>DataFrame</strong> 或 <strong>Series</strong> 具有多层索引， <strong>stack()</strong>  的逆操作是  **unstack()**，默认为拆叠最后一层</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">tuples = <span class="built_in">list</span>(<span class="built_in">zip</span>(*[</span><br><span class="line">    [<span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>,<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;qux&#x27;</span>, <span class="string">&#x27;qux&#x27;</span>],</span><br><span class="line">    [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>] ]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置堆叠</span></span><br><span class="line">index = pd.MultiIndex.from_tuples(tuples, names=[<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;second&#x27;</span>])</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">8</span>, <span class="number">2</span>), index=index, columns=[<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>])</span><br><span class="line">stacked = df.stack()</span><br><span class="line">print(stacked)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(stacked.unstack())</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(stacked.unstack(<span class="number">1</span>))</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">print(stacked.unstack(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">first  second</span></span><br><span class="line"><span class="string">bar    one     A    1.045996</span></span><br><span class="line"><span class="string">               B    0.605382</span></span><br><span class="line"><span class="string">       two     A   -1.885341</span></span><br><span class="line"><span class="string">               B    0.515791</span></span><br><span class="line"><span class="string">baz    one     A    0.282474</span></span><br><span class="line"><span class="string">               B    0.063214</span></span><br><span class="line"><span class="string">       two     A   -2.581561</span></span><br><span class="line"><span class="string">               B   -0.479922</span></span><br><span class="line"><span class="string">foo    one     A   -0.343941</span></span><br><span class="line"><span class="string">               B    0.450805</span></span><br><span class="line"><span class="string">       two     A   -1.067748</span></span><br><span class="line"><span class="string">               B    1.004922</span></span><br><span class="line"><span class="string">qux    one     A   -1.413637</span></span><br><span class="line"><span class="string">               B    2.494043</span></span><br><span class="line"><span class="string">       two     A   -0.305369</span></span><br><span class="line"><span class="string">               B   -0.317468</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">                     A         B</span></span><br><span class="line"><span class="string">first second</span></span><br><span class="line"><span class="string">bar   one     1.045996  0.605382</span></span><br><span class="line"><span class="string">      two    -1.885341  0.515791</span></span><br><span class="line"><span class="string">baz   one     0.282474  0.063214</span></span><br><span class="line"><span class="string">      two    -2.581561 -0.479922</span></span><br><span class="line"><span class="string">foo   one    -0.343941  0.450805</span></span><br><span class="line"><span class="string">      two    -1.067748  1.004922</span></span><br><span class="line"><span class="string">qux   one    -1.413637  2.494043</span></span><br><span class="line"><span class="string">      two    -0.305369 -0.317468</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">second        one       two</span></span><br><span class="line"><span class="string">first</span></span><br><span class="line"><span class="string">bar   A  1.045996 -1.885341</span></span><br><span class="line"><span class="string">      B  0.605382  0.515791</span></span><br><span class="line"><span class="string">baz   A  0.282474 -2.581561</span></span><br><span class="line"><span class="string">      B  0.063214 -0.479922</span></span><br><span class="line"><span class="string">foo   A -0.343941 -1.067748</span></span><br><span class="line"><span class="string">      B  0.450805  1.004922</span></span><br><span class="line"><span class="string">qux   A -1.413637 -0.305369</span></span><br><span class="line"><span class="string">      B  2.494043 -0.317468</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">first          bar       baz       foo       qux</span></span><br><span class="line"><span class="string">second</span></span><br><span class="line"><span class="string">one    A  1.045996  0.282474 -0.343941 -1.413637</span></span><br><span class="line"><span class="string">       B  0.605382  0.063214  0.450805  2.494043</span></span><br><span class="line"><span class="string">two    A -1.885341 -2.581561 -1.067748 -0.305369</span></span><br><span class="line"><span class="string">       B  0.515791 -0.479922  1.004922 -0.317468</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="数据透视表（Pivot-Tables）"><a href="#数据透视表（Pivot-Tables）" class="headerlink" title="数据透视表（Pivot Tables）"></a>数据透视表（Pivot Tables）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time      : 2020-10-05</span></span><br><span class="line"><span class="comment"># @Author    : xml</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;</span><br><span class="line">    <span class="string">&#x27;A&#x27;</span>: [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>] * <span class="number">3</span>,</span><br><span class="line">    <span class="string">&#x27;B&#x27;</span>: [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>] * <span class="number">4</span>,</span><br><span class="line">    <span class="string">&#x27;C&#x27;</span>: [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>] * <span class="number">2</span>,</span><br><span class="line">    <span class="string">&#x27;D&#x27;</span>: np.random.randn(<span class="number">12</span>) &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">pt = pd.pivot_table(df, values=<span class="string">&#x27;D&#x27;</span>, index=[<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>], columns=[<span class="string">&#x27;C&#x27;</span>])</span><br><span class="line">print(pt)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/566404/1584070444869-5aaa78f4-bdc6-49c6-87c0-1e7d1b3d8411.jpeg#align=left&display=inline&height=855&margin=%5Bobject%20Object%5D&name=pivot_table.jpg&originHeight=855&originWidth=648&size=100775&status=done&style=shadow&width=648" alt="pivot_table.jpg"></p>
<hr>
<h2 id="类别型（Categoricals）"><a href="#类别型（Categoricals）" class="headerlink" title="类别型（Categoricals）"></a>类别型（Categoricals）</h2><p>Pandas 的 DataFrame 里可以包含类别数据。</p>
<p>将  <strong>grade</strong> 的原生数据转换为类别型数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">&quot;id&quot;</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], <span class="string">&quot;raw_grade&quot;</span>: [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]&#125;)</span><br><span class="line"></span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">&quot;=&quot;</span>*<span class="number">30</span>)</span><br><span class="line">df[<span class="string">&quot;grade&quot;</span>] = df[<span class="string">&quot;raw_grade&quot;</span>].astype(<span class="string">&quot;category&quot;</span>)</span><br><span class="line">print(df[<span class="string">&quot;grade&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">   id raw_grade</span></span><br><span class="line"><span class="string">0   1         a</span></span><br><span class="line"><span class="string">1   2         b</span></span><br><span class="line"><span class="string">2   3         b</span></span><br><span class="line"><span class="string">3   4         a</span></span><br><span class="line"><span class="string">4   5         a</span></span><br><span class="line"><span class="string">5   6         e</span></span><br><span class="line"><span class="string">==============================</span></span><br><span class="line"><span class="string">0    a</span></span><br><span class="line"><span class="string">1    b</span></span><br><span class="line"><span class="string">2    b</span></span><br><span class="line"><span class="string">3    a</span></span><br><span class="line"><span class="string">4    a</span></span><br><span class="line"><span class="string">5    e</span></span><br><span class="line"><span class="string">Name: grade, dtype: category</span></span><br><span class="line"><span class="string">Categories (3, object): [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time      : 2020-10-05</span></span><br><span class="line"><span class="comment"># @Author    : xml</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">ts = pd.Series(np.random.randn(<span class="number">1000</span>), index=pd.date_range(<span class="string">&#x27;1/1/2020&#x27;</span>, periods=<span class="number">1000</span>))</span><br><span class="line"></span><br><span class="line">ts = ts.cumsum()</span><br><span class="line">ts.plot()</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2020/png/566404/1601964062861-5ba324df-94e1-4d28-94ae-4aa1a6f97f05.png#align=left&display=inline&height=1321&margin=%5Bobject%20Object%5D&name=Figure_1.png&originHeight=1321&originWidth=2560&size=122746&status=done&style=shadow&width=2560" alt="Figure_1.png"></p>
<p>DataFrame 的 <strong>plot()</strong> 方法可以快速绘制所有带标签的列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time      : 2020-10-05</span></span><br><span class="line"><span class="comment"># @Author    : xml</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">ts = pd.Series(np.random.randn(<span class="number">1000</span>), index=pd.date_range(<span class="string">&#x27;1/1/2020&#x27;</span>, periods=<span class="number">1000</span>))</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">1000</span>, <span class="number">4</span>), index=ts.index, columns=[<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>])</span><br><span class="line"></span><br><span class="line">df = df.cumsum()</span><br><span class="line">plt.figure()</span><br><span class="line">df.plot()</span><br><span class="line">plt.legend(loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2020/png/566404/1601964244039-819a76b0-9c55-414b-990a-1ad9b8118dbb.png#align=left&display=inline&height=1321&margin=%5Bobject%20Object%5D&name=Figure_2.png&originHeight=1321&originWidth=2560&size=329255&status=done&style=shadow&width=2560" alt="Figure_2.png"></p>
<hr>
<h2 id="数据输入-输出"><a href="#数据输入-输出" class="headerlink" title="数据输入 / 输出"></a>数据输入 / 输出</h2><h3 id="CSV"><a href="#CSV" class="headerlink" title="CSV"></a>CSV</h3><p>写入 CSV 文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">&#x27;output.csv&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>读取 CSV 文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">&#x27;input.csv&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Excel"><a href="#Excel" class="headerlink" title="Excel"></a>Excel</h3><p>写入 Excel 文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_excel(<span class="string">&#x27;output.xlsx&#x27;</span>, sheet_name=<span class="string">&#x27;Sheet1&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>读取 Excel 文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_excel(<span class="string">&#x27;input.xlsx&#x27;</span>, <span class="string">&#x27;Sheet1&#x27;</span>, index_col=<span class="literal">None</span>, na_values=[<span class="string">&#x27;NA&#x27;</span>])</span><br></pre></td></tr></table></figure>
    </div>
    <!--文末结束语-->
    
        <div style="text-align:center;color: #ccc;font-size:24px;"> ---- 本文结束 <i class="fas fa-heart"></i> The End ---- </div>
    
    <!--页脚广告-->
    
    <v-divider></v-divider>
    
    <div class="post-nav">             
              
          
            <div class="post-nav-button float-right">
                <a class="font-weight-bold text-right" href="/2021/02/23/0.learn_FFmpeg/ffmpeg%20%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/">      
                    ffmpeg 操作手册
                </a>
                <v-icon>chevron_right</v-icon>
            </div>
        
    </div>
</v-card>



    <v-card class="comment-card elevation-2">
        <v-tabs v-model="commentTab"  id="comment-tabs" active-class="active-comment-tab">
            
                <v-tab><span id="comment-tab-0">d</span></v-tab>
            
                <v-tab><span id="comment-tab-1">i</span></v-tab>
            
                <v-tab><span id="comment-tab-2">s</span></v-tab>
            
                <v-tab><span id="comment-tab-3">q</span></v-tab>
            
                <v-tab><span id="comment-tab-4">u</span></v-tab>
            
                <v-tab><span id="comment-tab-5">s</span></v-tab>
            
        </v-tabs>
        <v-tabs-items v-model="commentTab" id="tabs-content" data=eyJ1c2UiOiJkaXNxdXMiLCJkaXNxdXNfc2hvcnRuYW1lIjoiemVkbW9zdGVyIn0= >
            
                <v-tab-item eager=true>
                    
                </v-tab-item>
            
                <v-tab-item eager=true>
                    
                </v-tab-item>
            
                <v-tab-item eager=true>
                    
                </v-tab-item>
            
                <v-tab-item eager=true>
                    
                </v-tab-item>
            
                <v-tab-item eager=true>
                    
                </v-tab-item>
            
                <v-tab-item eager=true>
                    
                </v-tab-item>
            
        </v-tabs-items>
    </v-card>

        
                            <div id="mobile-footer" class="d-block d-md-none">
                                <v-divider></v-divider>
                                <div id="mobile-footer-content">
                                    <span>Theme: <a target="_blank" rel="noopener" href="https://github.com/kb1000fx/hexo-theme-insulin">Insulin</a> &nbsp; Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a></span><br>
                                    <span> &copy; 2020 - 2021 龙</span>
                                </div>
                            </div>                   
                        </v-col>                                            
                    </v-row>
                </v-container>
            </v-content>
        </v-app>
    </div>
    
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify@2.2.30"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-base64@3.5.2/base64.min.js"></script>

<script src="/js/main.js"></script>




    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://cdn.jsdelivr.net/npm/mermaid@0.0.1/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({
        startOnLoad: true,
        theme: "default"
    });</script>




    
        <script data-ad-client="ca-pub-7601264529931653" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    


</body>
</html>